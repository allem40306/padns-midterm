(this.webpackJsonpalbum=this.webpackJsonpalbum||[]).push([[0],{36:function(e,t,s){},62:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(28),r=s.n(a),o=(s(36),s(4)),i=s(2),l=s.p+"static/media/info.feab645a.png",u=s(0);var d=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"flex justify-center",children:Object(u.jsxs)("div",{className:"block p-6 rounded-lg shadow-lg bg-white max-w-sm",children:[Object(u.jsx)("img",{src:l,width:"100",height:"100"}),Object(u.jsx)("p",{children:"\u6211\u662f\u5de5\u79d1\u6d77\u6d0b\u6240\uff0c\u6797\u5b50\u5091\uff0c\u6211\u559c\u6b61\u5beb\u7a0b\u5f0f"})]})})})},b=(s(16),s(29),s(9)),j=s(30),m={},h="http://localhost:3001",x=s.n(j).a.create({baseURL:"".concat(h,"/api"),xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",withCredentials:!0}),f=function(){return console.log("checkSession"),x.get("/csrf").then((function(e){var t=e.data,s=e.headers,n=s["x-xsrf-token"];return console.log(s),x.defaults.headers.common["X-XSRF-Token"]=n,!(t&&t.firstTime||!1)||x.get("/csrf").then((function(e){var t=e.data,s=e.headers;console.log(s);var n=s["x-xsrf-token"];return x.defaults.headers.common["X-XSRF-Token"]=n,!(t&&t.firstTime||!1)}))})).then((function(e){e||(window.location.href="".concat(h,"/api/csrf-redirect"))})).catch((function(e){console.error(e)}))};m.auth=function(e,t){return{getCsrf:function(){return e.get("/csrf")},login:function(t){return e.post("/login",t)},loginCheck:function(){return e.get("/logincheck")},logout:function(){return e.get("/logout")}}}(x),m.user=function(e){return{getAll:function(){return f().then((function(){return e.get("/users")}))},get:function(t){return f().then((function(){return e.get("/users/".concat(t))}))},post:function(t){return e.post("/users",t)},getPicture:function(t){return f().then((function(){return e.post("/picture/".concat(t))}))}}}(x),m.comment=function(e){return{getAll:function(){return f().then((function(){return e.get("/comments")}))},get:function(t){return f().then((function(){return e.get("/comments/".concat(t))}))},post:function(t){return f().then((function(){return e.post("/Comments",t)}))},del:function(t){return f().then((function(){return e.delete("/Comments",t)}))}}}(x);var g=m;var p=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),s=(t[0],t[1],Object(n.useState)(!1)),c=Object(b.a)(s,2),a=c[0],r=(c[1],Object(n.useState)(!1)),l=Object(b.a)(r,2),d=l[0],j=l[1],m=(Object(n.useRef)(null),Object(i.g)().pathname),h=function(e){return m===e?"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"},x=function(e){return m===e?"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium":"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium"};return Object(n.useEffect)((function(){console.log("update Navbar")}),[]),Object(u.jsxs)("nav",{className:"bg-gray-800",children:[Object(u.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(u.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(u.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:function(){return j((function(e){return!e}))},children:[Object(u.jsx)("span",{className:"sr-only",children:"Open main menu"}),d?Object(u.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):Object(u.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),Object(u.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(u.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(u.jsxs)(o.b,{to:"/",children:[Object(u.jsx)("img",{className:"block lg:hidden h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"}),Object(u.jsx)("img",{className:"hidden lg:block h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-logo-indigo-500-mark-white-text.svg",alt:"Workflow"})]})}),Object(u.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(u.jsxs)("div",{className:"flex space-x-4",children:[Object(u.jsx)(o.b,{to:"/",className:h("/"),children:"Info"}),Object(u.jsx)(o.b,{to:"/team",className:h("/chat"),children:"Chat"}),Object(u.jsx)(o.b,{to:"/login",className:(a?"hidden ":"")+h("/login"),children:"Login"}),Object(u.jsx)(o.b,{to:"/signup",className:(a?"hidden ":"")+h("/signup"),children:"Signup"}),Object(u.jsx)(o.b,{to:"/users",className:(a?"":"hidden ")+h("/users"),children:"Users"})]})})]})]})}),Object(u.jsx)("div",{className:"sm:hidden "+(d?"":"hidden"),id:"mobile-menu",children:Object(u.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(u.jsx)(o.b,{to:"/dashboard",className:x("/dashboard"),children:"Dashboard"}),Object(u.jsx)(o.b,{to:"/team",className:x("/team"),children:"Team"}),Object(u.jsx)(o.b,{to:"/login",className:x("/login"),children:"Login"}),Object(u.jsx)(o.b,{to:"/signup",className:x("/signup"),children:"Signup"}),Object(u.jsx)(o.b,{to:"/users",className:x("/users"),children:"Users"})]})})]})},O=s(12),w=s(10);var v=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(b.a)(e,2),s=t[0],c=t[1],a=Object(i.f)(),r=Object(n.useState)("Please login to visit more!"),o=Object(b.a)(r,2),l=o[0],d=o[1],j=function(e){var t=e.target,s=t.name,n=t.value;c((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(O.a)({},s,n))}))};return Object(u.jsx)("div",{className:"px-6",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g.auth.login({username:s.username,password:s.password,withCredentials:!0}).then((function(e){"Success login"===e.data?(console.log("Success login and redirect"),a.push("./")):(console.log(e.data),d(e.data))})),c((function(e){return Object(w.a)(Object(w.a)({},e),{},{username:"",password:""})}))},className:"mt-8 max-w-md",children:[Object(u.jsx)("div",{children:l}),Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("label",{className:"block",children:[Object(u.jsx)("span",{className:"text-gray-700",children:"username"}),Object(u.jsx)("input",{className:"mt-1 block w-full",type:"text",name:"username",value:s.username,onChange:j})]}),Object(u.jsxs)("label",{className:"block",children:[Object(u.jsx)("span",{className:"text-gray-700",children:"password"}),Object(u.jsx)("input",{className:"mt-1 block w-full",type:"text",name:"password",value:s.password,onChange:j})]}),Object(u.jsx)("input",{className:"mt-1 block w-full bg-transparent hover:bg-blue-50 focus:bg-blue-500 text-blue-700 font-semibold focus:text-white py-2 px-4 border border-blue-500 rounded",type:"submit",value:"Submit"})]})]})})};var N=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(b.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)("Welcome !"),r=Object(b.a)(a,2),o=r[0],l=r[1],d=Object(i.f)(),j=Object(n.useRef)(null),m=Object(n.useState)(),h=Object(b.a)(m,2),x=h[0],f=h[1],p=function(e){var t=e.target,s=t.name,n=t.value;c((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(O.a)({},s,n))}))};return Object(u.jsxs)("div",{className:"px-6",children:[Object(u.jsx)("div",{children:o}),Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),g.user.post({username:s.username,password:s.password,file:x,withCredentials:!0}).then((function(e){"User added"===e.data?(console.log("User added"),d.push("./"),d.go()):l.log(e.data)})),c((function(e){return Object(w.a)(Object(w.a)({},e),{},{username:"",password:""})}))},className:"mt-8 max-w-md",children:Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("label",{className:"block",children:[Object(u.jsx)("span",{className:"text-gray-700",children:"username"}),Object(u.jsx)("input",{className:"mt-1 block w-full",type:"text",name:"username",value:s.username,onChange:p})]}),Object(u.jsxs)("label",{className:"block",children:[Object(u.jsx)("span",{className:"text-gray-700",children:"password"}),Object(u.jsx)("input",{className:"mt-1 block w-full",type:"text",name:"password",value:s.password,onChange:p})]}),Object(u.jsxs)("label",{className:"block",children:[Object(u.jsx)("span",{className:"text-gray-700",children:"File"}),Object(u.jsx)("input",{type:"file",id:"file",ref:j,onChange:function(e){var t=e.target.files[0];f(t)},required:!0})]}),Object(u.jsx)("input",{className:"mt-1 block w-full bg-transparent hover:bg-blue-50 focus:bg-blue-500 text-blue-700 font-semibold focus:text-white py-2 px-4 border border-blue-500 rounded",type:"submit",value:"Submit"})]})})]})};var k=function(){return Object(n.useEffect)((function(){g.auth.getCsrf()}),[]),Object(u.jsxs)(o.a,{children:[Object(u.jsx)(p,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(d,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/login",children:Object(u.jsx)(v,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/signup",children:Object(u.jsx)(N,{})})]})]})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,64)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),y()}},[[62,1,2]]]);
//# sourceMappingURL=main.aaeba39b.chunk.js.map